# TaskNotes 4.1.1

## Added

- (#1277) Icon autosuggestion for custom status settings
  - Type to search through all available Lucide icons
  - Thanks to @Arachnidai for the suggestion
- New formula properties in default Base templates
  - **Date calculations**: `daysUntilDue`, `daysUntilScheduled`, `daysSinceCreated`, `daysSinceModified`
  - **Boolean helpers**: `isOverdue`, `isDueToday`, `isDueThisWeek`, `isScheduledToday`, `isRecurring`, `hasTimeEstimate`
  - **Time tracking**: `timeRemaining`, `efficiencyRatio`, `timeTrackedThisWeek`, `timeTrackedToday`, `timeTrackedFormatted`
  - **Grouping**: `dueMonth`, `dueWeek`, `scheduledMonth`, `scheduledWeek`, `dueDateCategory`, `timeEstimateCategory`, `ageCategory`, `createdMonth`, `modifiedMonth`, `priorityCategory`, `projectCount`, `contextCount`, `trackingStatus`
  - **Combined due/scheduled**: `nextDate`, `daysUntilNext`, `hasDate`, `isToday`, `isThisWeek`, `nextDateCategory`, `nextDateMonth`, `nextDateWeek` - work with whichever date comes first
  - **Sorting**: `priorityWeight`, `urgencyScore` (combines priority with date proximity)
  - **Display**: `dueDateDisplay` (relative dates like "Today", "Tomorrow", "3d ago")
  - Action-oriented views (Not Blocked, Today, Overdue, This Week) now sort by urgency score, showing most important tasks first
  - See [Default Base Templates documentation](https://tasknotes.dev/views/default-base-templates) for full details
  - **Note**: To get these new formulas, either copy them from the documentation, or delete your `.base` files in `TaskNotes/Views/` and restart Obsidian to regenerate them

## Changed

- (#1282) Added spacing between task title and metadata in inline task widgets for improved readability
  - Thanks to @3zra47 for the suggestion
- Custom status icons now display in all context menus (task context menu, batch operations menu, and task creation/edit modals)
- Added embedded video guide for Google Calendar OAuth setup in documentation
  - Thanks to [@antoneheyward](https://www.youtube.com/@antoneheyward) for the tutorial

## Fixed

- (#1279) Fixed Kanban column width setting not being respected on mobile devices
  - Thanks to @guncav for reporting
- (#1026), (#1177) Fixed recurring task completion from Base views recording the wrong date for users in negative UTC offset timezones (e.g., PST/PDT) when completing tasks in the evening
  - The bug caused `complete_instances` to record the next day instead of the user's current calendar day
  - Thanks to @3zra47 and @nslee123 for reporting and providing detailed reproduction steps

